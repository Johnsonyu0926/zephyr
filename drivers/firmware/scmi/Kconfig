# Copyright 2024 NXP
# SPDX-License-Identifier: Apache-2.0

if ARM_SCMI

config ARM_SCMI_MAILBOX_TRANSPORT
	bool "SCMI transport based on shared memory and doorbells"
	default y
	depends on DT_HAS_ARM_SCMI_ENABLED
	depends on ARM_SCMI_SHMEM
	select ARM_SCMI_TRANSPORT_HAS_STATIC_CHANNELS
	help
	  Enable support for SCMI transport based on shared memory
	  and doorbells.

config ARM_SCMI_SHMEM
	bool "SCMI shared memory (SHMEM) driver"
	default y
	depends on DT_HAS_ARM_SCMI_SHMEM_ENABLED
	help
	  Enable support for SCMI shared memory (SHMEM) driver.

config ARM_SCMI_SHMEM_INIT_PRIORITY
	int "SCMI shared memory (SHMEM) initialization priority"
	default 15
	help
	  SCMI SHMEM driver device initialization priority.

config ARM_SCMI_TRANSPORT_HAS_STATIC_CHANNELS
	bool "Transport layer has static channels"
	help
	  Enable this if the SCMI transport layer uses static channels.
	  What this means is that each protocol will have its channels
	  assigned at compile time. This option is recommended for
	  transport layer drivers which can use the default channel
	  allocation scheme (i.e: use protocol-specific channels if
	  they exist, otherwise use base protocol channels).

config ARM_SCMI_TRANSPORT_INIT_PRIORITY
	int "SCMI transport layer initialization priority"
	default 20
	help
	  SCMI transport driver device initialization priority.

config ARM_SCMI_SMC_TRANSPORT
	bool
	depends on ARM_SCMI_SHMEM
	select ARM_SCMI_TRANSPORT_HAS_STATIC_CHANNELS
	default y if DT_HAS_ARM_SCMI_SMC_ENABLED
	default y if DT_HAS_ARM_SCMI_SMC_PARAM_ENABLED
	help
	  Enable support of SCMI compliant firmware with ARM SMC/HVC transport
	  with/without shmem address(4KB-page, offset) as parameters

choice ARM_SCMI_SMC_METHOD
	bool "Select ARM SCMI SMC Calling Convention method"
	depends on ARM_SCMI_SMC_TRANSPORT
	default ARM_SCMI_SMC_METHOD_SMC

config ARM_SCMI_SMC_METHOD_SMC
	bool "Use ARM SCMI Secure Monitor Call (SMC) method"
	help
	  Use ARM Secure Monitor Call (SMC) method to access SCMI.

config ARM_SCMI_SMC_METHOD_HVC
	bool "Use ARM SCMI Hypervisor Call (HVC) method"
	help
	  Use ARM Hypervisor Call (HVC) method to access SCMI.
endchoice

rsource "Kconfig.proto"

endif # ARM_SCMI
